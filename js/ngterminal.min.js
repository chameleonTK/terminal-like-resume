angular.module("ngterminal",[]),angular.module("ngterminal").factory("Command",["$q","commandcat","commandcd","commandls","commandman","commandecho",function(n,e,t,r,a,i){var o=this;return o.commands={},s("cat",e),s("cd",t),s("ls",r),s("man",a),s("echo",i),s("help",a),s("say",i),s("hi",i),{execute:function(t,e){return o.commands.hasOwnProperty(t)?o.commands[t].execute(t,e):n(function(e,n){e({successful:!1,messages:["-bash: "+t+": command not found"]})})},regis:s};function s(e,n){o.commands[e]=n}}]),angular.module("ngterminal").factory("Files",["$q",function(e){var t=[{name:"blog",type:"folder",size:"29k"},{name:"contact.txt",type:"file",size:"32"},{name:"experiences.txt",type:"file",size:"1k"},{name:"man",type:"file",size:"292"},{name:"twitter",type:"folder",size:"430"},{name:"README.md",type:"file",size:"3723"}];return{getFiles:function(){return t},read:function(n){var e=t.find(function(e){return"file"==e.type&&e.name==n});if(!e)return!1;{if("README.md"==e.name)return["Hi, I'm Pakawat Nakwijit."," ","I graduated in Computer Engineering, Kasetsart University. ","I have developed an interest in Programming Languages, NLP and AI since I was in university.","However, you are welcome to discuss with me about movies, adventure, and cats."," ","Now, I am working as a web developer at Maxile co.,ltd and ","writing a blog about whatever I am interested in especially about cats."," ","If you would like to get in touch with me, whether it be for technical issues, or to just say hi, ","don't heritate to send me an email or a tweet."," ","my email : pakawat.nk@gmail.com","my twitter : @chameleontk"," ","And learn more about me at http://wp.curve.in.th"];if("contact.txt"==e.name)return["email : pakawat.nk@gmail.com","twitter : @chameleontk"," ","And learn more about me at http://wp.curve.in.th"];if("experiences.txt"==e.name)return["2016 - present","Software Developer at Maxile co.,ltd.","  - CMS for website http://www.1for100.or.th"," ","  - Ionic application: e-Tracking","    Application for tracking import/export document's status"," ","  - Neekrung Magazine http://www.neekrung.com","    implemented a responsive website for Neekrung magazine."," ","  - eBMN project http://ebmn.cdd.go.th","    An online census form which is capable of keeping more than million of data records."," ","Freelance","  - Curator at TEDxKasetsartU","    curated speakers to build an interesting talk at TEDx conference"," ","  - Attended DevFest Hackathon 2016 ","    as '25 Finalists' with Khunkrukanoomping – An intelligent chatbot on LINE platform"," ","  - Developed FrontEnd http://www.petpolar.com","    An online community for pet lovers. I worked on frontend development including web site animation, ","    user interface and social features."," ","  - Waste challenge Game on website http://www.wastechallenge.com","    participated with WWF&Hilton for awareness campaign on waste segregation. ","    It's a game which users are to choose the right category of 20 wastes in 1 minute."," ","2015","  - Published a research paper in ICSEC 2015, Chiangmai, Thailand","    'A Parser Generator Using the Grammar Flow Graph'. An easier parser generator works for context-free language with acceptable performance."," ","  - Antikopae Project with Dr.Paruj Ratanaworabhan","    worked on investigation of plagiarism in research field."," ","2014","  - Internship student at NIST, Nara, Japan","    conducted a research about code refactoring in Software Design and Analysis Laboratory"," ","  - Asuku Project","    An artificial intelligence conversation application  which uses learning model from data in http://www.ask.fm"," ","2011 - 2013","  - Teaching Assistant for Computer and Programming, Compiler,","    Computer Architecture and Microprocessor"," ","  - Kasetsart University Medal of Honor Recipient: 2011, 2012, 2013"," ","  - Treasurer of Computer Engineering’s Student Body Organization"," ","  - Organizer and Master of Ceremony in many activies such as Toktakcamp, Konnec#6, eXceed Camp","    training camp for sophomore&junior student at Kasetsart University"," ","  - Attended 11th Young Webmaster Camp","    recieced honor for the best creative website (Punmap.com)"," ","  - Speaker in Barcamp Bangkok and Barcamp Bangkhen","    'Scratch ง่ายๆ ใน 1 นาที' in Barcamp Bangkhen 4, 2013; ","    'Phalcon # The fastest PHP Framework' in Barcamp Bangkok 2014 ","    'Robot 1st Times' in Barcamp Bangkhen 5, 2014;","    'มาเป็นทาสแมวกันเถอะ' in Barcamp Bangkhen 6,2015;"," ","  - Exhibited at Google I/O 2013, Thailand"," "];if("man"==e.name)return["Common commands:","    ls  [-al] [folder]   list directory contents","    cd  [folder]         change directory","    cat [file]           concatenate and print a file","    man                  format and display the on-line manual pages"," ","For help on any individual command run tweet to me at @chameleontk"]}return[]}}}]),angular.module("ngterminal").directive("terminal",["$sce","$q","$document","$timeout","Command","Writer",function(e,n,a,i,o,s){var c=this;return{scope:{},templateUrl:"templates/terminal.html",link:function(e){var n,t;function r(e){switch(e.keyCode){case 8:return c.writer.aviable()&&i(function(){c.writer.terminalDelChar(),c.command=c.command.slice(0,-1)}),e.preventDefault(),!0;case 9:return c.writer.aviable()&&i(function(){}),e.preventDefault(),!0;case 13:return c.writer.aviable()&&i(function(){var e,n;c.writer.newLine(),c.command?(n=(e=c.command.split(" ").filter(function(e){return e})).shift(),c.commandHistory[c.commandHistory.length-1]=c.command,c.commandHistory.push(""),c.commandHistoryPointer=c.commandHistory.length-1,o.execute(n,e).then(function(e){c.writer.terminalAutoWriteTexts(e.messages)}),c.command=""):c.writer.terminalAutoWrite(c.writer.terminalName(),!0,!0)}),e.preventDefault(),!0;case 38:return c.writer.aviable()&&0<c.commandHistoryPointer&&i(function(){c.commandHistoryPointer--,c.command=c.commandHistory[c.commandHistoryPointer],c.writer.terminalReplace(c.writer.terminalName()+c.commandHistory[c.commandHistoryPointer])}),e.preventDefault(),!0;case 40:return c.writer.aviable()&&c.commandHistoryPointer<c.commandHistory.length-1&&i(function(){c.commandHistoryPointer++,c.command=c.commandHistory[c.commandHistoryPointer],c.writer.terminalReplace(c.writer.terminalName()+c.commandHistory[c.commandHistoryPointer])}),e.preventDefault(),!0;default:return!0}}c.options={write_delay:10,init_text:[],terminal_name:"imtk@curveinth",scope:e},c.writer=null,e.plainText=[""],e.lines=[""],c.command="",c.commandHistory=[""],c.commandHistoryPointer=0,n=new Date,(t=c.options.init_text.slice(0)).push("Last login : "+n.toUTCString()+" on ttys001"),t.push(""),t.push("*** TYPE `man` to see all aviable commands ***"),c.writer=new s(c.options),c.writer.terminalAutoWriteTexts(t).then(function(){return c.writer.terminalAutoWrite("cat README.md",!0)}).then(function(){c.command="cat README.md",r({keyCode:13,preventDefault:function(){}})}),a.bind("keydown",r),a.bind("keypress",function(e){c.writer.aviable()&&(i(function(){c.writer.terminalWriteChar(e.key),c.command+=e.key}),e.preventDefault())})}}}]),angular.module("ngterminal").factory("Writer",["$q","$location","$anchorScroll","$interval","$sce",function(u,a,i,m,l){return function(e){var o=this;o.options=e,o.terminalName=n,o.newLine=s,o.terminalAutoWriteTexts=function(e){return e.reduce(function(e,n){return e.then(function(){return r(n)})},u.resolve()).then(function(){return r(n(),!0,!0)})},o.terminalAutoWrite=r,o.terminalWriteChar=c,o.terminalDelChar=function(e){var n=t.plainText[o.currentIndex];if(!e&&n.length<=o.options.terminal_name.length+11)return!1;if(";"==n[n.length-1]){for(;"&"!=n[n.length-1];)n=n.slice(0,-1),t.plainText[o.currentIndex]=n,t.lines[o.currentIndex]=l.trustAsHtml(n);t.plainText[o.currentIndex]=n.slice(0,-1),t.lines[o.currentIndex]=l.trustAsHtml(t.plainText[o.currentIndex])}else t.plainText[o.currentIndex]=n.slice(0,-1),t.lines[o.currentIndex]=l.trustAsHtml(t.plainText[o.currentIndex])},o.terminalReplace=function(e){t.plainText[o.currentIndex]=e,t.lines[o.currentIndex]=l.trustAsHtml(t.plainText[o.currentIndex])},o.aviable=function(){return o.typerAviable},o.currentIndex=0,o.typerAviable=!1;var t=e.scope;function n(){return"<b>"+o.options.terminal_name+":~$</b> "}function s(){var e;t.plainText.push(""),t.lines.push(""),o.currentIndex++,e="command-"+(e=o.currentIndex),a.hash()!==e?a.hash(e):i()}function r(r,a,i){return o.typerAviable=!1,u(function(e,n){var t=0;m(function(){t>=r.length?(a||s(),o.typerAviable=!0,e()):c(r[t],i),t++},o.options.write_delay,r.length+1)})}function c(e,n){t.plainText[o.currentIndex]+=n?e:function(e){switch(e){case" ":return"&nbsp;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case";":return"&#59;";default:return e}}(e),t.lines[o.currentIndex]=l.trustAsHtml(t.plainText[o.currentIndex])}}}]),angular.module("ngterminal").factory("commandcat",["$q","Files",function(n,r){return{execute:function(e,t){return n(function(e,n){return e(function(e){{if(1!=e.length)return 1<e.length?{successful:!1,messages:["cat: Not support multiple files"]}:{successful:!1,messages:["cat: Invalid arguments"]};var n=r.read(e[0]);return!1===n?{successful:!1,messages:["cat: "+e[0]+": No such file or directory"]}:{successful:!0,messages:n}}}(t)),!0})}}}]),angular.module("ngterminal").factory("commandcd",["$q","Files","$window",function(n,r,a){return{execute:function(e,t){return n(function(e,n){return e(function(n){{if(1!=n.length)return 1<n.length?{successful:!1,messages:["cd: Not support multiple files"]}:{successful:!1,messages:["cd: Invalid arguments"]};var e=r.getFiles().find(function(e){return"folder"==e.type&&e.name==n[0]});return e?("blog"==e.name?a.open("http://wp.curve.in.th","_blank"):"twitter"==e.name&&a.open("https://twitter.com/ChameleonTK","_blank"),{successful:!0,messages:[]}):{successful:!1,messages:["cd: "+n[0]+": No such file or directory"]}}}(t)),!0})}}}]),angular.module("ngterminal").factory("commandecho",["$q",function(e){return{execute:function(t,r){return e(function(e,n){return e("hi"!=t?{successful:!0,messages:r}:{successful:!0,messages:["Hi, How are you?"]}),!0})}}}]),angular.module("ngterminal").factory("commandls",["$q","Files",function(n,i){return{execute:function(e,t){return n(function(e,n){return e(function(e){if(0<e.length){var n,t;0<e[0].length&&"-"==e[0][0]&&(n=e[0].split("").find(function(e){return"a"==e}),t=e[0].split("").find(function(e){return"l"==e}));var r=e.find(function(e){return 0<e.length&&"-"!=e[0]});if(r)return(console.log(r,e[e.length-1]),r!=e[e.length-1])?{successful:!1,messages:["ls: Not support multiple files"]}:i.getFiles().find(function(e){return"folder"==e.type&&e.name==r})?{successful:!0,messages:[]}:{successful:!1,messages:["ls: "+r+": No such file or directory"]}}{if(t)return{successful:!0,messages:i.getFiles().reduce(function(e,n){for(var t=n.size;t.length<6;)t=" "+t;return"folder"==n.type?e.push("drw-r--r--   1 imtk  imtk       "+t+" Mar 10 00:00 "+n.name):e.push("-rw-r--r--   1 imtk  imtk       "+t+" Mar 10 00:00 "+n.name),e},[])};if(n)return{successful:!0,messages:i.getFiles().reduce(function(e,n){return e.push(n.name),e},[])};var a=Math.ceil(i.getFiles().length/2);return{successful:!0,messages:i.getFiles().reduce(function(e,n,t){if(t<a)e.push(n.name);else{for(;e[t-a].length<18;)e[t-a]+=" ";e[t-a]+=n.name}return e},[])}}}(t)),!0})}}}]),angular.module("ngterminal").factory("commandman",["$q","Files",function(t,r){return{execute:function(e,n){return t(function(e,n){return e({successful:!0,messages:r.read("man")}),!0})}}}]);